{"version":3,"sources":["node_modules/browser-pack/_prelude.js","package.json","src/js/MVC/Controller.js","src/js/MVC/Model.js","src/js/MVC/View.js","src/js/Main.js","src/js/models/config.js","src/js/models/coupons.js","src/js/models/customers.js","src/js/models/orderSummary.js","src/js/screens/Coupon.js","src/js/screens/Delivery.js","src/js/screens/Email.js","src/js/screens/Empty.js","src/js/screens/Loader.js","src/js/screens/Password.js","src/js/screens/Payment.js","src/js/screens/Summary.js","src/js/utils/jquery.ui.shake.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","name","version","description","main","scripts","repository","type","url","license","author","email","dependencies","gsap","devDependencies","babel-preset-es2015","babelify","browser-sync","browserify","gulp","gulp-connect","gulp-notify","gulp-rename","gulp-sass","gulp-sourcemaps","gulp-uglify","gulp-uglifycss","http-server","nodemon","vinyl-buffer","vinyl-source-stream","keywords","Controller","_classCallCheck","this","shortName","dependents","sEmail","reEmail","match","eA","jQuery","val","v","showError","validateEmail","showSuccess","content","unbind","setTimeout","focus","click","event","validateEmailForm","console","log","m","updateCustomer","checkEmailAPI","showLoading","bind","keypress","keyCode","validatePassword","hideMiddleCol","showRightCol","setPaymentMethod","target","id","hover","data","order","paymentMethod","src","option","show","hide","attr","errorMessage","pw","customerType","customer","password","firstName","lastName","deliveryAddress","billingAddress","country","businessName","phone","shake","html","Model","importModels","setOrder","config","default","orderSummary","customers","coupons","hideLoading","emailCheckDelay","key","value","debugger","authorityToLeave","promoCodes","giftCard","newsletter","subtotal","discounts","shipping","grandTotal","JSON","stringify","allCustomers","summary","orderTotals","Number","price","shippingNum","grand_total","discount","sku","splice","_Coupon","_Delivery","_Email","_Password","_Payment","_Summary","_Empty","_Loader","View","screens","_Email2","_Password2","_Summary2","_Payment2","_Delivery2","_Coupon2","_Empty2","_Loader2","getContent","field","div","message","className","callback","c","setUI","nextScreen","undefined","showMiddleCol","_package","_Model","_View","_Controller","_jqueryUi","Main","_Model2","_View2","_Controller2","setDependents","document","ready","vs","_package2","showLeftCol","loadingDelay","animationDuration","couponId","amount","cId","billing","title","image","desc","size","colour","Coupon","prepend","Delivery","Email","Empty","Loader","Password","getCustomerByEmail","Payment","Summary","summaryArr","$","fn","extend","direction","distance","times","speed","easing","each","el","props","position","css","top","bottom","left","right","ref","motion","animation","animation1","animation2","animate","apply","arguments"],"mappings":"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","file":"aligent-checkitout.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports={\n  \"name\": \"checkitout\",\n  \"version\": \"1.5.7\",\n  \"description\": \"JavaScript for Aligent_CheckItOut Module. ES6/Sass MVC App\",\n  \"main\": \"src/js/Main.js\",\n  \"scripts\": {},\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://bitbucket.org/aligent/ecomdev_checkitout_developer\"\n  },\n  \"license\": \"OSL-3.0\",\n  \"author\": {\n    \"name\": \"Chris Dorward\",\n    \"email\": \"chris.dorward@aligent.com.au\"\n  },\n  \"dependencies\": {\n    \"gsap\": \"^1.19.1\"\n  },\n  \"devDependencies\": {\n    \"babel-preset-es2015\": \"^6.24.1\",\n    \"babelify\": \"^7.3.0\",\n    \"browser-sync\": \"^2.18.12\",\n    \"browserify\": \"^14.3.0\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-connect\": \"^5.0.0\",\n    \"gulp-notify\": \"^3.0.0\",\n    \"gulp-rename\": \"^1.2.2\",\n    \"gulp-sass\": \"^3.1.0\",\n    \"gulp-sourcemaps\": \"^2.6.0\",\n    \"gulp-uglify\": \"^2.1.2\",\n    \"gulp-uglifycss\": \"^1.0.8\",\n    \"http-server\": \"^0.10.0\",\n    \"nodemon\": \"^1.11.0\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.1.0\"\n  },\n  \"keywords\": [\n    \"JavaScript\",\n    \"ES6\",\n    \"Sass\",\n    \"MVC\"\n  ]\n}\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/Controller.js\n * Handles anything to do with user interaction\n *\n */\n\nexport default class Controller {\n\n  constructor(main) {\n    this.main = main;\n    this.shortName = 'c';\n  }\n\n  setDependents(dependents) {\n    // Set Dependent MVC Classes\n    // See https://tinyurl.com/yaqgy73w\n    for (let i=0; i<dependents.length; i++){\n      this[dependents[i].shortName] = dependents[i];\n    }\n  }\n\n  validateEmail (sEmail) {\n    // Pass in an email address. returns true if valid, false if not. http://hexillion.com/samples/\n    const reEmail = /^(?:[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$/;\n    if(!sEmail.match(reEmail)) {\n      return false;\n    }\n    return true;\n  }\n\n  validateEmailForm() {\n    // Get a reference to the currently inputted email address value\n    this.eA = jQuery('#email-address').val();\n    // test if the field is empty\n    if (this.eA === ''){\n      this.v.showError(jQuery('#email-address'), jQuery('#email-message'), 'Please enter your email address', 'success' );\n      return false;\n    }\n    // Test if the field has a valid email address in it\n    if (!this.validateEmail (this.eA)){\n      this.v.showError(jQuery('#email-address'), jQuery('#email-message'), 'Not a valid email address :(', 'warning' );\n      return false;\n    } else {\n      this.v.showSuccess(jQuery('#email-address'), jQuery('#email-message'), 'Yay!', 'none' );\n    }\n    return true;\n  }\n\n  setUI (content){\n    // Cleanup keypress bindings\n    jQuery('#aligent-checkitout').unbind('keypress');\n\n    // Set Email screen's UI\n    if (content === 'email'){\n\n      setTimeout(function(){\n        jQuery('#emailAddress').focus();\n      }, 250);\n\n      jQuery('#email-continue').click(function(event) {\n        if (this.validateEmailForm()) {\n          console.log (`this.eA: ${this.eA}`)\n          this.m.updateCustomer ('email', this.eA);\n          this.m.checkEmailAPI (this.eA);\n          this.v.showLoading ();\n        }\n      }.bind(this));\n\n      jQuery('#aligent-checkitout').keypress(function(event) {\n        if (event.keyCode === 13){\n          if (this.validateEmailForm()){\n            // What screen to show next passed as a parameter\n            // this.v.hideMiddleCol ('password');\n            // this.m.updateCustomer ('email', jQuery('#emailAddress').val());\n          } else {\n            // email form not valid\n          }\n        }\n      }.bind(this));\n    }\n\n    // Set Password screen's UI\n    if (content === 'password'){\n\n      setTimeout(function(){\n        jQuery('#input-password').focus();\n      }, 250);\n\n      jQuery('#password-continue').click(function(event) {\n        if (this.validatePassword ()){\n          // What screen to show next passed as a parameter\n          this.v.hideMiddleCol ('delivery');\n          this.v.showRightCol ('payment');\n        }\n      }.bind(this));\n\n      jQuery('#guest-checkout').click(function(event) {\n        this.m.updateCustomer ('customerType', 'guest');\n        this.v.hideMiddleCol ('delivery');\n        this.v.showRightCol ('payment');\n      }.bind(this));\n\n      jQuery('#aligent-checkitout').keypress(function(event) {\n        if (event.keyCode === 13){\n          if (this.validatePassword ()){\n            // What screen to show next passed as a parameter\n            this.v.hideMiddleCol ('delivery');\n            this.v.showRightCol ('payment');\n          }\n        }\n      }.bind(this));\n    }\n\n\n    // Set Delivery screen's UI\n    if (content === 'delivery'){\n      setTimeout(function(){\n        jQuery('#input-firstName').focus();\n      }, 250);\n    }\n\n    // Set Payment screen's UI\n    if (content === 'payment'){\n      setTimeout(function(){\n        jQuery('#input-firstName').focus();\n      }, 250);\n\n      jQuery('.payment-option').click(function(event) {\n        this.setPaymentMethod(event.target.id)\n      }.bind(this));\n\n      jQuery('.payment-option').hover(\n        function(event) {\n          if (event.target.id !== this.m.data.order.paymentMethod){\n            event.target.src = `http://listingslab.com/wp-content/uploads/2017/06/${event.target.id}_over.png`;\n          }\n        }.bind(this),\n        function(event) {\n          if (event.target.id !== this.m.data.order.paymentMethod) {\n            event.target.src = `http://listingslab.com/wp-content/uploads/2017/06/${event.target.id}.png`;\n          }\n        }.bind(this)\n      );\n    }\n  }\n\n  setPaymentMethod(option) {\n    switch(option) {\n      case 'card':\n        //jQuery('#card-div').slideDown(this.m.data.config.animationDuration);\n        //jQuery('#paypal-div').slideUp(this.m.data.config.animationDuration);\n        //jQuery('#afterpay-div').slideUp(this.m.data.config.animationDuration);\n        jQuery('#card-div').show();\n        jQuery('#paypal-div').hide();\n        jQuery('#afterpay-div').hide();\n        jQuery('#card').attr('src', 'http://listingslab.com/wp-content/uploads/2017/06/card_over.png');\n        jQuery('#paypal').attr('src', 'http://listingslab.com/wp-content/uploads/2017/06/paypal.png');\n        jQuery('#afterpay').attr('src', 'http://listingslab.com/wp-content/uploads/2017/06/afterpay.png');\n        break;\n      case 'paypal':\n        //jQuery('#card-div').slideUp(this.m.data.config.animationDuration);\n        //jQuery('#paypal-div').slideDown(this.m.data.config.animationDuration);\n        //jQuery('#afterpay-div').slideUp(this.m.data.config.animationDuration);\n        jQuery('#card-div').hide();\n        jQuery('#paypal-div').show();\n        jQuery('#afterpay-div').hide();\n        jQuery('#card').attr('src', 'http://listingslab.com/wp-content/uploads/2017/06/card.png');\n        jQuery('#paypal').attr('src', 'http://listingslab.com/wp-content/uploads/2017/06/paypal_over.png');\n        jQuery('#afterpay').attr('src', 'http://listingslab.com/wp-content/uploads/2017/06/afterpay.png');\n        break;\n      case 'afterpay':\n        //jQuery('#card-div').slideUp(this.m.data.config.animationDuration);\n        //jQuery('#paypal-div').slideUp(this.m.data.config.animationDuration);\n        //jQuery('#afterpay-div').slideDown(this.m.data.config.animationDuration);\n        jQuery('#card-div').hide();\n        jQuery('#paypal-div').hide();\n        jQuery('#afterpay-div').show();\n        jQuery('#card').attr('src', 'http://listingslab.com/wp-content/uploads/2017/06/card.png');\n        jQuery('#paypal').attr('src', 'http://listingslab.com/wp-content/uploads/2017/06/paypal.png');\n        jQuery('#afterpay').attr('src', 'http://listingslab.com/wp-content/uploads/2017/06/afterpay_over.png');\n        break;\n      default:\n    }\n    this.m.updateCustomer ('paymentMethod', option);\n  }\n\n  validatePassword () {\n    let errorMessage = ``;\n    const pw = jQuery('#input-password').val();\n    console.log('Decision about password');\n    console.log(this.m.data.order);\n    if (this.m.data.order.customerType === 'new'){\n      if (pw !== '' && pw.length > 5){\n        return true;\n      }else{\n        errorMessage = `Please enter 6 or more characters.`;\n      }\n    }else{\n      if (this.m.customer.password === pw) {\n        this.m.updateCustomer ('firstName', this.m.customer.firstName || '');\n        this.m.updateCustomer ('lastName', this.m.customer.lastName || '');\n        this.m.updateCustomer ('deliveryAddress', this.m.customer.deliveryAddress || '');\n        this.m.updateCustomer ('billingAddress', this.m.customer.billingAddress || '');\n        this.m.updateCustomer ('country', this.m.customer.country || '');\n        this.m.updateCustomer ('businessName', this.m.customer.businessName || '');\n        this.m.updateCustomer ('phone', this.m.customer.phone || '');\n        return true;\n      }else{\n        errorMessage = `Password incorrect`;\n      }\n    }\n    jQuery('#input-password').shake(jQuery('#input-password').focus());\n    jQuery('#password-message').html(`<span class=\"danger\">${errorMessage}</span>`);\n    return false;\n  }\n\n  validateOrder (){\n    console.log ('validating order...');\n  }\n\n}\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/Model.js\n * Load and manipulate data model\n *\n */\n\nexport default class Model {\n\n  constructor(main) {\n    this.main = main;\n    this.shortName = 'm';\n\n    // The Model Class is our run-time data store.\n    // We could use Redux if we were feeling flash.\n    // In this case we'll keep our data in an object called 'data'\n    // here in the Model class which can be accessed from anywhere\n    this.data = {};\n\n    // Import data models from the ./models directory\n    this.importModels ();\n\n    // Set up a customer object ready to be populated during runtime\n    this.setOrder ();\n  }\n\n  setDependents(dependents) {\n    // Set Dependent MVC Classes\n    // See https://tinyurl.com/yaqgy73w\n    for (let i=0; i<dependents.length; i++){\n      this[dependents[i].shortName] = dependents[i];\n    }\n  }\n\n  importModels (){\n    // Example data models for Ajax integration\n    // config\n    const config = require('../models/config');\n    this.data.config = config.default.config;\n    // orderSummary\n    const orderSummary = require('../models/orderSummary');\n    this.data.orderSummary = orderSummary.default.orderSummary;\n    // customers\n    const customers = require('../models/customers');\n    this.data.customers = customers.default.customers;\n    // coupons\n    const coupons = require('../models/coupons');\n    this.data.coupons = coupons.default.coupons;\n  }\n\n  checkEmailAPI (email) {\n    // takes email address as imput. Checks for customer\n    // existance ../models/customers.json. returns a customer\n    // object if found, false if not\n    console.log(`checkEmailAPI ${email}`);\n    // wait a short time to simulate an ajax load\n    setTimeout(function(){\n      // do stuff\n      console.log (`stuff `);\n\n      // end loading\n      this.v.hideLoading();\n    }.bind(this), this.data.config.emailCheckDelay);\n\n    return false;\n  }\n\n  updateCustomer (key, value){\n    console.log(`updateCustomer key:${key} value:${value}`)\n    this.data.order[key] = value;\n    this.debugger ();\n  }\n\n  setOrder (){\n    // Once this data model is populated, and order can be placed\n    this.data.order = {\n      'email': '',\n      'customerType': '',\n      'firstName': '',\n      'lastName': '',\n      'country': '',\n      'deliveryAddress': '',\n      'billingAddress': '',\n      'authorityToLeave': '',\n      'businessName': '',\n      'phone': '',\n      'paymentMethod': '',\n      'promoCodes': [],\n      'giftCard': '',\n      'newsletter': '',\n      'subtotal': '',\n      'discounts': '',\n      'shipping': '',\n      'grandTotal': ''\n    };\n    this.debugger ();\n  }\n\n  debugger (){\n    jQuery('#debugger').val(JSON.stringify(this.data.order, null, \"\\t\"));\n  }\n\n  getCustomerByEmail (email){\n    // Returns a customer object by an email address\n    // or false if none found\n    this.customer = false;\n    let allCustomers = this.data.customers;\n    for (let i=0; i<allCustomers.length; i++){\n      if ( email === allCustomers[i].email){\n        this.customer = allCustomers[i];\n      }\n    }\n    return this.customer;\n  }\n\n  calculateOrderTotal (){\n    // Quick & dirty math to calculate totals.\n    // Probably won't be needed when app is using ajax\n    for(let i = 0; i < this.summary.length; i++) {\n      this.orderTotals.subtotal += Number(this.summary[i].price);\n    }\n    if (this.orderTotals.subtotal > 100){\n      this.orderTotals.shipping = 'FREE';\n      this.orderTotals.shippingNum = 0;\n    }else{\n      this.orderTotals.shipping = '$10';\n      this.orderTotals.shippingNum = 10;\n    }\n    this.orderTotals.grand_total = this.orderTotals.subtotal - this.orderTotals.shippingNum;\n    this.orderTotals.grand_total -= this.orderTotals.discount;\n  }\n\n  removeOrderItem (sku) {\n    // Pop an order item out of the orderSummary array by sku\n    for(var i = this.data.summary.length - 1; i >= 0; i--) {\n      if(this.data.summary[i].sku === sku) {\n        this.data.summary.splice(i, 1);\n      }\n    }\n  }\n}\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/View.js\n * Handles everything to do with displaying, logging & rendering\n *\n */\nimport Coupon from '../screens/Coupon';\nimport Delivery from '../screens/Delivery';\nimport Email from '../screens/Email';\nimport Password from '../screens/Password';\nimport Payment from '../screens/Payment';\nimport Summary from '../screens/Summary';\nimport Empty from '../screens/Empty';\nimport Loader from '../screens/Loader';\n\nexport default class View {\n\n  constructor(main) {\n    this.main = main;\n    this.shortName = 'v';\n    this.screens = [];\n    this.screens['email'] = new Email (main);\n    this.screens['password'] = new Password (main);\n    this.screens['summary'] = new Summary (main);\n    this.screens['payment'] = new Payment (main);\n    this.screens['delivery'] = new Delivery (main);\n    this.screens['coupon'] = new Coupon (main);\n    this.screens['empty'] = new Empty (main);\n    this.screens['loader'] = new Loader (main);\n  }\n\n  setDependents(dependents) {\n    // Set Dependent MVC Classes\n    // See https://tinyurl.com/yaqgy73w\n    for (let i=0; i<dependents.length; i++){\n      this[dependents[i].shortName] = dependents[i];\n    }\n  }\n\n  showLoading (){\n    console.log(`Show Loading`);\n    jQuery('#middle').html(this.screens['loader'].getContent ());\n  }\n  hideLoading (){\n    console.log(`Hide Loading`);\n  }\n\n  showError (field, div, message, className){\n    jQuery(div).html(`<span class=\"${className}\">${message}</span>`);\n    jQuery(field).shake();\n  }\n\n  showSuccess (field, div, message, className){\n    jQuery(div).html(`<span class=\"${className}\">${message}</span>`);\n  }\n\n  showLeftCol (content){\n    jQuery('#left').hide();\n    jQuery('#left').html(this.screens[content].getContent ());\n    jQuery('#left').show();\n    // jQuery('#left').slideDown(this.m.data.config.animationDuration);\n  }\n\n  hideLeftCol (callback){\n    console.log('hideLeftCol');\n    // jQuery('#left').slideUp(this.m.data.config.animationDuration);\n    jQuery('#left').hide();\n  }\n\n  showMiddleCol (content){\n    jQuery('#middle').hide();\n    jQuery('#middle').html(this.screens[content].getContent ());\n    jQuery('#middle').show();\n    // jQuery('#middle').slideDown(this.m.data.config.animationDuration);\n    this.c.setUI (content);\n  }\n\n  hideMiddleCol (nextScreen){\n    if (nextScreen === undefined){\n      nextScreen = 'empty';\n    }\n    let showNext = function () {\n      this.showMiddleCol (nextScreen);\n    }.bind(this);\n    // jQuery('#middle').slideUp(this.m.data.config.animationDuration, showNext);\n    jQuery('#middle').hide();\n    this.showMiddleCol (nextScreen);\n  }\n\n  showRightCol (content){\n    jQuery('#right').hide();\n    jQuery('#right').html(this.screens[content].getContent ());\n    // jQuery('#right').slideDown(this.m.data.config.animationDuration);\n    jQuery('#right').show();\n    this.c.setUI (content);\n    if (this.m.data.order.paymentMethod === ''){\n      this.c.setPaymentMethod('card');\n    }\n  }\n\n  hideRightCol (callback){\n    console.log('hideRightCol');\n    // jQuery('#right').slideUp(this.m.data.config.animationDuration);\n    jQuery('#right').hide();\n  }\n\n}\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/main.js\n * Main JavaScript entry\n */\n\nimport packageJSON from '../../package.json';\nimport Model from './MVC/Model';\nimport View from './MVC/View';\nimport Controller from './MVC/Controller';\n\n// Typical gsap import (bloats app file by 125kb)\n// import {TweenMax, Power2, TimelineLite} from \"gsap\";\n\nimport shake from './utils/jquery.ui.shake';\n\nexport default class Main {\n\n  constructor() {\n\n    // Instantiate MVC Classes. See https://tinyurl.com/yaqgy73w\n    this.m = new Model(this);\n    this.v = new View(this);\n    this.c = new Controller(this);\n\n    // Create an array of instantiated classes and Set Dependents\n    const dependents = [this.m, this.v, this.c];\n    this.m.setDependents(dependents);\n    this.v.setDependents(dependents);\n    this.c.setDependents(dependents);\n  }\n}\n// Run the Main class as soon as we can\nlet main = new Main();\n\n\n// But wait till the dom has loaded before trying to do anything with it\njQuery( document ).ready(function() {\n  // What version are we? Change this up in /package.json\n  const vs = `${packageJSON.name} vs ${packageJSON.version}\\n`;\n  console.log (vs);\n\n  // Show the initial screens after a moment's delay to simulate ajax loading\n  setTimeout(function(){\n    // Kick off the application by showing the summary and the email capture form\n    main.v.showLeftCol('summary');\n    main.v.showMiddleCol('email');\n    main.m.debugger();\n    // jQuery('.debug').hide();\n  }, main.m.data.config.loadingDelay);\n\n});\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/maodels/config.js\n * Config Model\n *\n */\n\nexport default {\n  \"config\": {\n    \"loadingDelay\": 750,\n    \"emailCheckDelay\": 1750,\n    \"animationDuration\": 250\n  }\n};\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/maodels/coupons.js\n * Example coupons Model\n *\n */\n\nexport default {\n    \"coupons\": [\n        {\n          \"couponId\": \"000001\",\n          \"code\": \"25PERCENTOFF\",\n          \"discount\": {\n            \"type\": \"percent\",\n            \"amount\": \"25\"\n          }\n        },\n        {\n          \"couponId\": \"000002\",\n          \"code\": \"FREE\",\n          \"discount\": {\n            \"type\": \"percent\",\n            \"amount\": \"100\"\n          }\n        },\n        {\n          \"couponId\": \"000003\",\n          \"code\": \"10BUCKS\",\n          \"discount\": {\n            \"type\": \"dollars\",\n            \"amount\": \"10\"\n          }\n        },\n        {\n          \"couponId\": \"000004\",\n          \"code\": \"20BUCKS\",\n          \"discount\": {\n            \"type\": \"dollars\",\n            \"amount\": \"20\"\n          }\n        },\n    ]\n};\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/maodels/customers.js\n * Example Customers Model\n *\n */\n\nexport default {\n    \"customers\": [\n        {\n          \"cId\": \"000001\",\n          \"email\": \"chris.dorward@aligent.com.au\",\n          \"firstName\": \"Chris\",\n          \"lastName\": \"Dorward\",\n          \"password\": \"password\",\n          \"deliveryAddress\": \"58 Hampton St S, Goodwood, SA 5034\",\n          \"country\": \"Australia\",\n          \"billing\": \"200 Goodwood Road, Goodwood, SA 5034\"\n        },\n        {\n          \"cId\": \"000002\",\n          \"email\": \"chris@listingslab.com\",\n          \"firstName\": \"Christopher\",\n          \"lastName\": \"Dorward\",\n          \"password\": \"password\",\n          \"deliveryAddress\": \"4 Holst Mead, Stowmarket, Suffolk, IP14 1TD\",\n          \"billingAddress\": \"58 Hampton St S, Goodwood, SA 5034\",\n          \"businessName\": \"Listingslab\",\n          \"country\": \"Australia\"\n\n        },\n        {\n          \"cId\": \"000003\",\n          \"email\": \"listingslab@gmail.com\",\n          \"firstName\": \"Listingslab\",\n          \"lastName\": \"\",\n          \"password\": \"password\",\n          \"deliveryAddress\": \"58 Hampton St S, Goodwood, SA 5034\",\n          \"country\": \"Australia\"\n        },\n        {\n          \"cId\": \"000004\",\n          \"email\": \"michael@aligent.com.au\",\n          \"firstName\": \"Michael\",\n          \"lastName\": \"Wylde\",\n          \"password\": \"password\",\n          \"deliveryAddress\": \"14 Stamford Court, Adelaide, SA 5000\",\n          \"billingAddress\": \"18 Westpac Tower, Adelaide, SA 5000\",\n          \"country\": \"Australia\"\n        },\n        {\n          \"cId\": \"000005\",\n          \"email\": \"william.chambers@aligent.com.au\",\n          \"firstName\": \"William\",\n          \"lastName\": \"Chambers\",\n          \"password\": \"password\",\n          \"deliveryAddress\": \"14 Stamford Court, Adelaide, SA 5000\",\n          \"country\": \"Australia\",\n          \"businessName\": \"Aligent\",\n          \"phone\": \"0422 222 333\"\n        }\n    ]\n};\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/models/order-summary.js\n * Example Order Summary Model\n *\n */\n\nexport default {\n\"orderSummary\": [\n    {\n      \"sku\": \"000002\",\n      \"title\": \"Speedo Mens Avalon Heritage Watershort\",\n      \"image\": \"http://listingslab.com/wp-content/uploads/2017/06/sp1539a6220.960_mens_avalon_heritage_watershort_3.1484384302.jpg\",\n      \"desc\": \"Speedo Mens Avalon Heritage Watershort\",\n      \"size\": \"14\",\n      \"colour\": \"Orange\",\n      \"price\": \"79.99\"\n    },\n    {\n      \"sku\": \"000001\",\n      \"title\": \"Jets Arcadia Bandeau\",\n      \"image\": \"http://listingslab.com/wp-content/uploads/2017/06/jetj4954_arcadia_bandeau_4.1496373923.jpg\",\n      \"desc\": \"Jets Arcadia Bandeau\",\n      \"size\": \"10\",\n      \"colour\": \"Blue\",\n      \"price\": \"99.99\"\n    },\n    {\n      \"sku\": \"000003\",\n      \"title\": \"Fly Away Tankini\",\n      \"image\": \"http://listingslab.com/wp-content/uploads/2017/06/cds53ta5386.900_tiedyeabstraction_flyaway_tankini_1.1489675773.jpg\",\n      \"desc\": \"Fly Away tankinis are in.\",\n      \"size\": \"14\",\n      \"colour\": \"Black\",\n      \"price\": \"199.99\"\n    }\n  ]\n};\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/screens/Delivery.js\n * Coupon Screen\n *\n */\n\nexport default class Coupon {\n\n  constructor(main) {\n    this.main = main;\n  }\n\n  show (){\n    let html = `\n        <div id=\"coupon-div\">\n\n        <div class=\"form-label\" id=\"zzz-message\" >Coupon</div>\n        <input\n          id=\"input-coupon\"\n          class=\"input-text-field\"\n          type=\"text\"\n          value=\"\"\n        />\n\n        `;\n    html += `</div>`;\n    //jQuery('#right').hide();\n    jQuery('#right').prepend(html);\n    //jQuery('#middle').slideDown(this.main.v.animationMs);\n  }\n\n}\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/screens/Delivery.js\n * Delivery Screen\n *\n */\n\nexport default class Delivery {\n\n  constructor(main) {\n    this.main = main;\n  }\n\n  getContent (){\n    // console.log('Delivery Class');\n    // console.log(this.main.m.data.order);\n\n    let html = `\n        <div id=\"delivery-div\">\n          <h3 class=\"screen-title\">\n              <span class=\"screen-header\">Delivery</span>\n          </h3>\n          <div class=\"instructions\"></div>\n\n          <div class=\"form-label\" id=\"firstName-message\" >First Name</div>\n          <input\n            id=\"input-firstName\"\n            class=\"input-text-field\"\n            type=\"text\"\n            value=\"${this.main.m.data.order.firstName}\"\n          />\n\n          <div class=\"form-label\" id=\"lastName-message\" >Last Name</div>\n          <input\n            id=\"input-lastName\"\n            class=\"input-text-field\"\n            type=\"text\"\n            value=\"${this.main.m.data.order.lastName}\"\n          />\n\n          <div class=\"form-label\" id=\"deliveryAddress-message\" >Delivery Address</div>\n          <input\n            id=\"input-deliveryAddress\"\n            class=\"input-text-field\"\n            type=\"text\"\n            value=\"${this.main.m.data.order.deliveryAddress}\"\n          />\n\n          <div class=\"form-label\" id=\"businessName-message\" >Business Name - <em>Optional</em></div>\n          <input\n            id=\"input-businessName\"\n            class=\"input-text-field\"\n            type=\"text\"\n            value=\"${this.main.m.data.order.businessName}\"\n          />\n\n          <div class=\"form-label\" id=\"phone-message\" >Phone Number</div>\n          <input\n            id=\"input-phone\"\n            class=\"input-text-field\"\n            type=\"text\"\n            value=\"${this.main.m.data.order.phone}\"\n          />\n\n\n\n        `;\n    html += `</div>`;\n    return html;\n    // jQuery('#middle').hide();\n    // jQuery('#middle').html(html);\n    // jQuery('#middle').slideDown(this.main.v.animationMs);\n  }\n\n}\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/screens/Email.js\n *\n */\n\nexport default class Email {\n\n  constructor(main) {\n    this.main = main;\n  }\n\n  getContent (){\n    let html = `\n      <div id=\"email-div\">\n        <h3 class=\"screen-title\">\n            <span class=\"screen-header\">First things first</span>\n        </h3>\n        <div class=\"instructions\">\n            <p>Please enter your email address to continue\n            to delivery &amp; payment.</p>\n        </div>\n        <div id=\"email\">\n            <div class=\"form-label\" id=\"email-message\" >Email Address</div>\n            <input\n              id=\"email-address\"\n              class=\"input-text-field\"\n              type=\"text\"\n              value=\"csada@khd.com\"\n            />\n            <input\n              id=\"email-continue\"\n              type=\"button\"\n              value=\"CONTINUE\"\n            />\n        </div>\n      </div>`;\n    return html;\n  }\n}\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/screens/Empty.js\n *\n *\n */\n\nexport default class Empty {\n  constructor(main) {\n    this.main = main;\n  }\n\n  getContent (){\n    return '';\n  }\n}\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/screens/Loader.js\n *\n */\n\nexport default class Loader {\n\n  constructor(main) {\n    this.main = main;\n  }\n\n  getContent (){\n    let html = `\n      <div id=\"loader-div\">\n        <h3 class=\"screen-title\">\n            <span class=\"screen-header\">Checking your email</span>\n        </h3>\n        <div class=\"loader\">\n            <img\n                alt=\"loading...\"\n                src=\"http://listingslab.com/wp-content/uploads/2017/06/ajax-loader.gif\"\n            />\n            &nbsp;&nbsp;&nbsp;loading...\n        </div>\n      </div>`;\n    return html;\n  }\n}\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/screens/Password.js\n *\n */\n\nexport default class Password {\n\n  constructor(main) {\n    this.main = main;\n  }\n\n  getContent (){\n    if (!this.main.m.getCustomerByEmail(this.main.m.data.order.email)){\n      this.main.m.updateCustomer ('customerType', 'new');\n    }else{\n      this.main.m.updateCustomer ('customerType', 'returning');\n    }\n    let html = ``;\n    if (this.main.m.data.order.customerType === 'returning'){\n      html += `\n          <div id=\"password-div\">\n            <h3 class=\"screen-title\">\n                <span class=\"screen-header\">Welcome back!</span>\n            </h3>\n              <div class=\"instructions\">\n              <p>Please enter your password to continue to delivery & payment</p>\n          </div>`;\n    } else {\n      html += `\n            <div id=\"password-div\">\n            <h3 class=\"screen-title\">\n                <span class=\"screen-header\">Welcome Aboard</span>\n            </h3>\n            <div class=\"instructions\">\n              <p>Please create a password to continue to delivery & payment</p>\n            </div>`;\n    }\n    html += `<div id=\"password\">\n              <div id=\"password-message\" class=\"form-label\">Password</div>\n              <input\n                id=\"input-password\"\n                class=\"input-text-field\"\n                type=\"password\"\n                value=\"password\"\n              />\n              <input id=\"password-continue\" type=\"button\" value=\"CONTINUE\" />\n              <div class=\"link-checkout-guest\">\n                <a\n                    href=\"#\"\n                    id=\"guest-checkout\"\n                >Checkout as guest</a>\n              </div>\n          </div>`;\n    html += `</div>`;\n    return html;\n  }\n}\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/screens/Payment.js\n * Payment Screen\n *\n */\n\nexport default class Payment {\n\n  constructor(main) {\n    this.main = main;\n  }\n\n  getContent (){\n    let html = `\n        <div id=\"payment-div\">\n          <h3 class=\"screen-title\">\n              <span class=\"screen-header\">Payment</span>\n          </h3>\n          <div class=\"instructions\">How would you like to pay?</div>\n\n          <div class=\"payment-options\">\n\n            <div class=\"card\">\n              <img\n                class=\"payment-option\"\n                id=\"card\"\n                alt=\"Pay with credit card\"\n                src=\"http://listingslab.com/wp-content/uploads/2017/06/card.png\"\n              />\n            </div>\n\n            <div class=\"paypal\">\n              <img\n                class=\"payment-option\"\n                height=\"57\"\n                id=\"paypal\"\n                alt=\"Pay with PayPal\"\n                src=\"http://listingslab.com/wp-content/uploads/2017/06/paypal.png\"\n              />\n            </div>\n\n            <div class=\"afterpay\">\n              <img\n                class=\"payment-option\"\n                height=\"57\"\n                id=\"afterpay\"\n                alt=\"Pay with Afterpay\"\n                src=\"http://listingslab.com/wp-content/uploads/2017/06/afterpay.png\"\n              />\n            </div>\n\n          </div>\n\n          <div class=\"payment-info\" id=\"card-div\">\n              <div id=\"cardnumber-message\" class=\"form-label\">Card Number</div>\n              <input\n                id=\"input-cardnumber\"\n                class=\"input-text-field\"\n                type=\"text\"\n              />\n\n              <div class=\"expiry-cvc\">\n\n                <div class=\"expiry\">\n                    <div id=\"expiry-message\" class=\"form-label\">Expiry Date (MM/YY)</div>\n                    <input\n                      id=\"input-expiry\"\n                      class=\"input-text-field\"\n                      type=\"text\"\n                    />\n                </div>\n\n                <div class=\"cvc\">\n                    <div id=\"cvc-message\" class=\"form-label\">CVC</div>\n                    <input\n                      id=\"input-cvc\"\n                      class=\"input-text-field\"\n                      type=\"text\"\n                    />\n                </div>\n\n              </div>\n\n          </div>\n\n          <div class=\"payment-info\" id=\"paypal-div\">\n            <p>You will be redirected to PayPal complete your order.</p>\n          </div>\n\n          <div class=\"payment-info\" id=\"afterpay-div\">\n            <p><strong>4 equal payments of $X</strong></p>\n            <p>Pay for your purchase over four equal fortnightly installments with no interest.\n            Afterpay makes it simple to pay when it suits you best. Available to customers in\n            Australia with a debit or credit card.</p>\n            <p>When you click 'CHECKOUT WITH AFTERPAY' you will be redirected to Afterpay\n            to complete your order.</p>\n            <p><a\n                class=\"afterpay-link\"\n                href=\"https://www.afterpay.com.au\"\n                target=\"_blank\"\n               >Find out more</a></p>\n          </div>\n\n          <div class=\"payment-separator\"></div>\n\n          <div id=\"promo-message\" class=\"form-label\">Promo Code</div>\n          <div class=\"promo\">\n            <div class=\"input-promo\">\n              <input\n                id=\"input-promo\"\n                class=\"input-text-field\"\n                type=\"text\"\n              />\n            </div>\n\n            <div class=\"submit-promo\">\n              <input\n                id=\"apply-promo\"\n                type=\"button\"\n                value=\"Apply\"\n              />\n            </div>\n          </div>\n\n          <div id=\"gift-message\" class=\"form-label\">Gift Card</div>\n          <div class=\"gift\">\n            <div class=\"input-gift\">\n              <input\n                id=\"input-gift\"\n                class=\"input-text-field\"\n                type=\"text\"\n              />\n            </div>\n            <div class=\"submit-gift\">\n              <input\n                id=\"apply-gift\"\n                type=\"button\"\n                value=\"Redeem\"\n              />\n            </div>\n          </div>\n          `;\n    html += `</div>`;\n    return html;\n  }\n}\n","/**\n * Aligent CheckItOut\n *\n * @category   Aligent\n * @package    aligent-checkitout\n * @copyright  Copyright (c) 2017 Aligent\n * @author     Chris Dorward <chris.dorward@aligent.com.au>\n *\n * src/js/screens/Summary.js\n * Order Summary\n *\n */\n\nexport default class Summary {\n\n  constructor(main) {\n    this.main = main;\n  }\n\n  getContent (){\n    const summaryArr = this.main.m.data.orderSummary;\n    let html = `\n      <div id=\"summary\">\n        <h3 class=\"screen-title\">\n            <span class=\"screen-header\">\n               Order Summary\n            </span>\n        </h3>\n        <div class=\"summary-total\">${summaryArr.length} Items</div>\n      `;\n    for (let i = 0; i<summaryArr.length; i++) {\n      let div = `<div id=\"\" class=\"summary-item\">`;\n      div += `<div class=\"summary-item-image\">\n                  <img\n                src=\"${summaryArr[i].image}\"\n                alt=\"${summaryArr[i].desc}\"\n                />\n              </div>`;\n      div += `<div class=\"summary-item-info\">\n                  <div class=\"item-title\">${summaryArr[i].title}</div>\n                  <div class=\"item-price\">$${summaryArr[i].price}</div>\n                  <div class=\"item-size\">Size ${summaryArr[i].size}</div>\n                  <div class=\"item-colour\">Colour ${summaryArr[i].colour}</div>\n              </div>`;\n      div += `</div>`;\n      html += div;\n    }\n    html += `<a\n                href=\"?shoppingbag=true\"\n                title=\"back\"\n                class=\"black-link font-small\"\n                >&lt; Back to Shopping Bag</a>`;\n    html += `</div>`;\n    return html;\n  }\n}\n","(function($) {\n\t$.fn.shake = function(o) {\n\t\tif (typeof o === 'function')\n\t\t\to = {callback: o};\n\t\t// Set options\n\t\tvar o = $.extend({\n\t\t\tdirection: \"left\",\n\t\t\tdistance: 5,\n\t\t\ttimes: 3,\n\t\t\tspeed: 140,\n\t\t\teasing: \"swing\"\n\t\t}, o);\n\n\t\treturn this.each(function() {\n\n\t\t\t// Create element\n\t\t\tvar el = $(this), props = {\n\t\t\t\tposition: el.css(\"position\"),\n\t\t\t\ttop: el.css(\"top\"),\n\t\t\t\tbottom: el.css(\"bottom\"),\n\t\t\t\tleft: el.css(\"left\"),\n\t\t\t\tright: el.css(\"right\")\n\t\t\t};\n\n\t\t\tel.css(\"position\", \"relative\");\n\n\t\t\t// Adjust\n\t\t\tvar ref = (o.direction == \"up\" || o.direction == \"down\") ? \"top\" : \"left\";\n\t\t\tvar motion = (o.direction == \"up\" || o.direction == \"left\") ? \"pos\" : \"neg\";\n\n\t\t\t// Animation\n\t\t\tvar animation = {}, animation1 = {}, animation2 = {};\n\t\t\tanimation[ref] = (motion == \"pos\" ? \"-=\" : \"+=\")  + o.distance;\n\t\t\tanimation1[ref] = (motion == \"pos\" ? \"+=\" : \"-=\")  + o.distance * 2;\n\t\t\tanimation2[ref] = (motion == \"pos\" ? \"-=\" : \"+=\")  + o.distance * 2;\n\n\t\t\t// Animate\n\t\t\tel.animate(animation, o.speed, o.easing);\n\t\t\tfor (var i = 1; i < o.times; i++) { // Shakes\n\t\t\t\tel.animate(animation1, o.speed, o.easing).animate(animation2, o.speed, o.easing);\n\t\t\t};\n\t\t\tel.animate(animation1, o.speed, o.easing).\n\t\t\tanimate(animation, o.speed / 2, o.easing, function(){ // Last shake\n\t\t\t\tel.css(props); // Restore\n\t\t\t\tif(o.callback) o.callback.apply(this, arguments); // Callback\n\t\t\t});\n\t\t});\n\t};\n})(jQuery);\n"]}